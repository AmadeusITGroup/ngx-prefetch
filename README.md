# ngx-prefetch
Angular builder for prefetching resources before loading the application

## Description
There are some cases when application resources need to be prefetched before loading the app (ex. from the airline portal.)

The prefetch builder will create a `ngxPrefetch.js` file that, when executed, will dinamically [create `<link>` tags](https://developer.mozilla.org/en-US/docs/Web/HTTP/Link_prefetching_FAQ).

## Prerequisites
A prerequiste for the script is to have [Angular Service Worker](https://angular.io/guide/service-worker-intro) enabled as it is using the `ngsw.json` from the production build  folder that is generated by the Angular Service Worker. Therefore it will be ran after the build prod.

## Usage

[`package.json`]

```json
    ...
    "build:prod": "ng build --prod && yarn run generate:prefetch",
    "generate:prefetch": "yarn app-name:generate-prefetch",
    ...
```

[`angular.json`]

```json
"generate-prefetch": {
    "builder": "ngx-prefetch",
    "options": {
    "resourceTypes": {
        "image": ["png", "jpg", "gif"],
        "font": ["eot", "ttf", "woff", "woff2", "svg"],
        "style": ["css"],
        "script": ["js"],
        "document": ["html"]
    },
    "crossorigin": true
    }
},
```